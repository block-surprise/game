<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ミニゲームセンター</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <meta name="google-adsense-account" content="ca-pub-3571574988222927">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3571574988222927" crossorigin="anonymous"></script>
    
    <style>
        body { margin: 0; background-color: #f4f7f6; font-family: sans-serif; color: #333; line-height: 1.6; }
        .container { max-width: 900px; margin: 20px auto; background-color: #fff; padding: 30px; border-radius: 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); position: relative; }
        h1 { text-align: center; color: #007bff; border-bottom: 3px solid #b8daff; padding-bottom: 10px; margin-bottom: 10px; }
        
        /* サイト説明文 */
        .site-description { text-align: center; color: #666; max-width: 600px; margin: 10px auto 30px; font-size: 0.95rem; line-height: 1.6; padding: 0 15px; }

        /* 右上のナビゲーション（ログイン日数 & プロフィール） */
        .nav-buttons { position: fixed; top: 15px; right: 15px; display: flex; gap: 10px; z-index: 1000; }
        .nav-btn { background: white; padding: 8px 15px; border-radius: 30px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); cursor: pointer; border: 1px solid #007bff; display: flex; align-items: center; gap: 8px; transition: 0.3s; text-decoration: none; color: #333; font-size: 0.85rem; }
        .nav-btn:hover { transform: translateY(-2px); box-shadow: 0 6px 15px rgba(0,0,0,0.15); }
        .nav-btn i { color: #ffc107; font-size: 1.1rem; }
        .nav-btn.profile-btn { border-color: #e91e63; color: #e91e63; }
        .nav-btn.profile-btn i { color: #e91e63; }
        .login-days { font-weight: bold; color: #007bff; }

        .status-bar { text-align: center; margin-bottom: 20px; }
        .rank-display { font-size: 0.9rem; color: #666; margin-bottom: 15px; }
        .rank-name { color: #e91e63; font-weight: bold; background: #fff0f5; padding: 2px 10px; border-radius: 10px; }
        
        .recommend-section { margin-bottom: 25px; }
        .btn-recommend { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: #fff; border: none; padding: 12px 25px; border-radius: 25px; font-weight: bold; cursor: pointer; box-shadow: 0 4px 15px rgba(118, 75, 162, 0.3); transition: 0.3s; }
        .btn-recommend:hover { transform: scale(1.05); filter: brightness(1.1); }

        .search-section { margin-bottom: 30px; background: #f8f9fa; padding: 20px; border-radius: 12px; border: 1px solid #eee; }
        .search-box { position: relative; margin-bottom: 20px; }
        .search-box i { position: absolute; left: 15px; top: 50%; transform: translateY(-50%); color: #888; }
        #gameSearch { width: 100%; padding: 12px 12px 12px 45px; border-radius: 25px; border: 1px solid #ddd; font-size: 1rem; box-sizing: border-box; outline: none; transition: 0.3s; }

        .filter-group { margin-bottom: 15px; display: flex; align-items: center; gap: 10px; flex-wrap: wrap; }
        .filter-label { font-weight: bold; font-size: 0.85rem; color: #666; min-width: 70px; }
        .filter-btns { display: flex; gap: 8px; flex-wrap: wrap; }
        .filter-btn { border: 1px solid #ddd; background: #fff; color: #555; padding: 5px 15px; border-radius: 15px; cursor: pointer; font-size: 0.85rem; transition: 0.3s; }
        .filter-btn.active { background: #007bff; color: #fff; border-color: #007bff; }

        .grid { display: grid; grid-template-columns: 1fr; gap: 20px; }
        @media (min-width: 600px) { .grid { grid-template-columns: repeat(2, 1fr); } }

        .card-link { text-decoration: none; color: inherit; display: block; transition: 0.3s; }
        .card-link.hidden { display: none; }
        .card { background-color: #fff; border: 1px solid #e0e0e0; border-radius: 12px; padding: 20px; transition: 0.3s; height: 100%; box-sizing: border-box; display: flex; flex-direction: column; position: relative; }
        .card:hover { transform: translateY(-5px); box-shadow: 0 8px 20px rgba(0,0,0,0.1); border-color: #007bff; }
        .highlight-card { animation: highlightEffect 1.2s ease-in-out 2; border: 3px solid #ffc107 !important; }
        @keyframes highlightEffect { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); box-shadow: 0 0 25px rgba(255, 193, 7, 0.5); } }

        .card h2 { margin: 0 0 10px 0; color: #007bff; font-size: 1.1em; display: flex; align-items: center; gap: 10px; }
        .card p { margin: 0; font-size: 0.85rem; color: #555; flex-grow: 1; }
        .platform-badge { font-size: 0.75em; margin-top: 10px; color: #888; }
        .play-tag { display: inline-block; margin-top: 12px; background-color: #ffc107; padding: 4px 15px; border-radius: 20px; font-size: 0.75rem; font-weight: bold; text-align: center; width: fit-content; }

        .footer-nav { text-align: center; margin-top: 40px; padding-top: 20px; border-top: 1px solid #eee; font-size: 0.85rem; }
        .back-btn { color: #007bff; text-decoration: none; font-weight: bold; }
    </style>
</head>
<body>

<div class="nav-buttons">
    <a href="bonus.html" class="nav-btn">
        <i class="fa-solid fa-fire"></i>
        <span><span id="nav-login-days" class="login-days">0</span> 日</span>
    </a>
    <a href="profile.html" class="nav-btn profile-btn">
        <i class="fa-solid fa-user"></i> プロフ
    </a>
</div>

<div class="container">
    <h1><i class="fa-solid fa-gamepad"></i>ミニゲームセンター</h1>
    
    <p class="site-description">
        <strong>「ミニゲームセンター」</strong>へようこそ！<br>
        登録不要・無料で遊べる25種類以上のゲームを公開中。スマホ・PCどちらでも、隙間時間にすぐ遊べるミニゲームをお楽しみください。
    </p>
    
    <div class="status-bar">
        <div class="rank-display">
            現在の称号: <span id="userRank" class="rank-name">読み込み中...</span>
        </div>
        <div class="recommend-section">
            <button class="btn-recommend" onclick="pickRandomGame()">
                <i class="fa-solid fa-wand-sparkles"></i> 今日のおすすめを抽選！
            </button>
        </div>
    </div>

    <div class="search-section">
        <div class="search-box">
            <i class="fa-solid fa-magnifying-glass"></i>
            <input type="text" id="gameSearch" placeholder="ゲームを検索..." oninput="runFilter()">
        </div>
        <div class="filter-group">
            <span class="filter-label">ジャンル:</span>
            <div class="filter-btns">
                <button class="filter-btn active" onclick="setFilter('genre', 'all', this)">すべて</button>
                <button class="filter-btn" onclick="setFilter('genre', 'brain', this)">脳トレ</button>
                <button class="filter-btn" onclick="setFilter('genre', 'action', this)">アクション</button>
                <button class="filter-btn" onclick="setFilter('genre', 'puzzle', this)">パズル</button>
                <button class="filter-btn" onclick="setFilter('genre', 'typing', this)">タイピング</button>
            </div>
        </div>
        <div class="filter-group">
            <span class="filter-label">デバイス:</span>
            <div class="filter-btns">
                <button class="filter-btn active" onclick="setFilter('device', 'all', this)">全端末</button>
                <button class="filter-btn" onclick="setFilter('device', 'pc', this)">PC対応</button>
                <button class="filter-btn" onclick="setFilter('device', 'mobile', this)">スマホ対応</button>
            </div>
        </div>
    </div>

    <div class="grid" id="gameGrid">
        <a href="games/quiz1" class="card-link" data-genre="brain" data-platform="all-device">
            <div class="card">
                <h2><i class="fa-solid fa-calculator"></i>瞬間！足し算</h2>
                <p>次々と出る足し算を素早く解こう！ハイスピード計算脳トレ。</p>
                <div class="platform-badge">全端末</div><div class="play-tag">あそぶ</div>
            </div>
        </a>
        <a href="games/memory1.html" class="card-link" data-genre="brain" data-platform="all-device">
            <div class="card">
                <h2><i class="fa-solid fa-brain"></i>絵文字めくり</h2>
                <p>同じ絵文字を揃えよう！記憶力が試されるカードゲーム。</p>
                <div class="platform-badge">全端末</div><div class="play-tag">あそぶ</div>
            </div>
        </a>
        <a href="games/burst1.html" class="card-link" data-genre="brain" data-platform="all-device">
            <div class="card">
                <h2><i class="fa-solid fa-fire-flame-curved"></i>ナンバー・バースト</h2>
                <p>1から25までを最速で叩け！周辺視野を鍛えるスピードゲーム。</p>
                <div class="platform-badge">全端末</div><div class="play-tag">あそぶ</div>
            </div>
        </a>
        <a href="games/connect1.html" class="card-link" data-genre="puzzle" data-platform="all-device">
            <div class="card">
                <h2><i class="fa-solid fa-route"></i>カラフル・コネクト</h2>
                <p>同じ色のドット同士を線で繋ごう！全てのマスを埋める知略パズル。</p>
                <div class="platform-badge">全端末</div><div class="play-tag">あそぶ</div>
            </div>
        </a>
        <a href="games/circle_merge.html" class="card-link" data-genre="puzzle" data-platform="all-device">
            <div class="card">
                <h2><i class="fa-solid fa-circle-nodes"></i>マージ・サークル</h2>
                <p>同じフルーツをくっつけて大きく！物理演算パズル。</p>
                <div class="platform-badge">全端末</div><div class="play-tag">あそぶ</div>
            </div>
        </a>
        <a href="games/slice1.html" class="card-link" data-genre="action" data-platform="all-device">
            <div class="card">
                <h2><i class="fa-solid fa-scissors"></i>スライス・マスター</h2>
                <p>物体をスパスパ切り刻め！物理演算による爽快アクション。</p>
                <div class="platform-badge">全端末</div><div class="play-tag">あそぶ</div>
            </div>
        </a>
        <a href="games/line_def.html" class="card-link" data-genre="action" data-platform="all-device">
            <div class="card">
                <h2><i class="fa-solid fa-pen-nib"></i>ライン・ディフェンダー</h2>
                <p>線を引いてバリアを作れ！中央のコアを守り抜く新感覚アクション。</p>
                <div class="platform-badge">全端末</div><div class="play-tag">あそぶ</div>
            </div>
        </a>
        <a href="games/shoot1.html" class="card-link" data-genre="action" data-platform="all-device">
            <div class="card">
                <h2><i class="fa-solid fa-shuttle-space"></i>スター・ディフェンダー</h2>
                <p>エイリアン軍団を撃墜せよ！爽快SFシューティング。</p>
                <div class="platform-badge">全端末</div><div class="play-tag">あそぶ</div>
            </div>
        </a>
        <a href="games/type1.html" class="card-link" data-genre="typing" data-platform="pc">
            <div class="card">
                <h2><i class="fa-solid fa-keyboard"></i>タイプ・マスター</h2>
                <p>正確さと速さを競う、PC専用の英単語タイピング練習。</p>
                <div class="platform-badge">PC専用</div><div class="play-tag">あそぶ</div>
            </div>
        </a>
        </div>

    <div class="footer-nav">
        <a href="about.html" class="back-btn"><i class="fa-solid fa-circle-info"></i> 当サイトについて</a>
        <span style="margin: 0 10px; color: #ccc;">|</span>
        <a href="policy.html" class="back-btn"><i class="fa-solid fa-file-shield"></i> ポリシー</a>
        <span style="margin: 0 10px; color: #ccc;">|</span>
        <a href="https://ad-hub.f5.si/tools_index.html" class="back-btn"><i class="fa-solid fa-arrow-left"></i> 便利ツール</a>
    </div>
</div>

<script>
    let activeGenre = 'all';
    let activeDevice = 'all';

    function updateStats() {
        let visits = parseInt(localStorage.getItem('game_visits') || 0) + 1;
        localStorage.setItem('game_visits', visits);

        const streak = parseInt(localStorage.getItem('login_streak') || 0);
        document.getElementById('nav-login-days').innerText = streak;

        // --- 連続記録（streak）ベースの称号判定 ---
        let rank = "ビジター";
        if (streak >= 12) rank = "伝説のゲーマー";
        else if (streak >= 7) rank = "ゲームマスター";
        else if (streak >= 3) rank = "常連さん";
        else if (visits > 5) rank = "ルーキー";

        document.getElementById('userRank').innerText = rank;
    }

    function pickRandomGame() {
        const visibleCards = Array.from(document.querySelectorAll('.card-link:not(.hidden)'));
        if (visibleCards.length === 0) return;
        visibleCards.forEach(c => c.querySelector('.card').classList.remove('highlight-card'));
        const target = visibleCards[Math.floor(Math.random() * visibleCards.length)];
        target.scrollIntoView({ behavior: 'smooth', block: 'center' });
        target.querySelector('.card').classList.add('highlight-card');
        setTimeout(() => {
            if(confirm("おすすめ: 『" + target.querySelector('h2').innerText + "』を遊びますか？")) {
                location.href = target.href;
            }
        }, 1200);
    }

    function setFilter(type, value, btn) {
        const parent = btn.parentElement;
        parent.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        if (type === 'genre') activeGenre = value;
        if (type === 'device') activeDevice = value;
        runFilter();
    }

    function runFilter() {
        const searchText = document.getElementById('gameSearch').value.toLowerCase();
        const cards = document.querySelectorAll('.card-link');
        cards.forEach(card => {
            const genre = card.getAttribute('data-genre');
            const platform = card.getAttribute('data-platform');
            const title = card.querySelector('h2').innerText.toLowerCase();
            const desc = card.querySelector('p').innerText.toLowerCase();
            const matchGenre = (activeGenre === 'all' || genre === activeGenre);
            const matchDevice = (activeDevice === 'all' || platform === activeDevice || 
                               (activeDevice === 'mobile' && platform === 'all-device') || 
                               (activeDevice === 'pc' && platform === 'all-device'));
            const matchSearch = (title.includes(searchText) || desc.includes(searchText));
            if (matchGenre && matchDevice && matchSearch) card.classList.remove('hidden');
            else card.classList.add('hidden');
        });
    }

    window.onload = updateStats;
</script>
</body>
</html>
